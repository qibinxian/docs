!function(t){var i=function(t,i,s){this.x=t,this.y=i,this.endy=i,this.vx=.8,this.vy=0,this.ground=[],this.state="run",this.jumpNum=0,this.jumpMax=2,this.src=s,this.distance=0,this.init()},s=i.prototype;s.init=function(){this.Animal=new Laya.Animation,this.Animal.loadAtlas(this.src),this.Animal.x=this.x,this.Animal.y=this.y,this.Animal.interval=80,Laya.Animation.createFrames(this.aniUrls("man_",22,13),"run"),Laya.Animation.createFrames(["man/man_35.png"],"jump"),Laya.Animation.createFrames(["man/man_09.png"],"die"),this.Animal.play(0,!0,this.state),Laya.stage.addChild(this.Animal)},s.aniUrls=function(t,i,s){for(var n=[],a=i;a>=s;a--)a<10&&a>=0?n.push("man/"+t+"0"+a+".png"):n.push("man/"+t+a+".png");return n},s.update=function(){this.distance+=1;var t=this.Animal,i=Laya.timer.delta/1e3;"run"==this.state&&(t.x<this.x?t.x+=this.vx:t.x=this.x),(this.endy>t.y||"jump"==this.state)&&(this.vy+=15*i,t.y+=i*this.vy*300,Math.abs(t.y-this.endy)<20&&this.vy>0&&(this.state="run",this.run(),t.y=this.endy,this.vy=0,this.jumpNum=0)),(t.x+56<0||t.y>950)&&(this.state="die",this.Animal.play(0,!0,this.state),Laya.timer.clear(RunGame,RunGame.tick),new Confirm("死亡,前进距离为"+this.distance+"。\n是否重开？",this,function(t){t&&RunGame.Reopen()}))},s.Reopen=function(){this.endy=this.y,this.vx=.8,this.vy=0,this.ground=[],this.state="run",this.jumpNum=0,this.jumpMax=2,this.distance=0,this.Animal.x=this.x,this.Animal.y=this.y,this.run()},s.run=function(){this.Animal.play(0,!0,this.state)},s.jump=function(){this.vy=-5,this.state="jump",this.Animal.play(0,!0,this.state),this.jumpNum++},s.size=function(){return{w:80,picw:192,h:192}},t.createMan=function(t,s,n){return new i(t,s,n)}}(this);